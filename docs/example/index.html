<html><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>Simple T1042</title><link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico"></link><script type="text/javascript" src="../../scripts/theme.js"></script><script type="text/javascript" src="../../scripts/searchData.js" defer="true"></script><script type="text/javascript" src="../../scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="../../styles/theme/bundle.css"></link><link rel="stylesheet" href="../../styles/theme/components/bundle.css"></link><link rel="stylesheet" href="../../styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="../../styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="../../styles/nord-light.css"></link><link rel="stylesheet" href="../../styles/dotty-icons.css"></link><link rel="stylesheet" href="../../styles/filter-bar.css"></link><link rel="stylesheet" href="../../styles/code-snippets.css"></link><link rel="stylesheet" href="../../styles/searchbar.css"></link><link rel="stylesheet" href="../../styles/social-links.css"></link><link rel="stylesheet" href="../../styles/versions-dropdown.css"></link><link rel="stylesheet" href="../../styles/fontawesome.css"></link><script type="text/javascript" src="../../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../../scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="../../scripts/data.js" defer="true"></script><link rel="stylesheet" href="../../styles/staticsitestyles.css"></link><script>var pathToRoot = "../../";</script></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="../../" class="logo-container"><span id="project-logo" class="project-logo"><img src="../../project-logo/phylog_logo.gif"></img></span><span id="project-logo" class="project-logo"><img src="../../project-logo/phylog_logo.gif"></img></span><span class="project-name h300">pml_analyzer</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span id="project-logo" class="project-logo"><img src="../../project-logo/phylog_logo.gif"></img></span><span id="project-logo" class="project-logo"><img src="../../project-logo/phylog_logo.gif"></img></span><span class="project-name h300">pml_analyzer</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"><div class="switcher-container"><a id="docs-nav-button" class="switcher h100 selected" href="../index.html">Docs</a><a id="api-nav-button" class="switcher h100 " href="../../index.html">API</a></div><nav id="docs-nav" class="side-menu"><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../reference/gettingStarted/index.html"><span>Getting started</span></a></span><div class="ni n1 "><span class="nh de"><a href="../reference/gettingStarted/getting_started_SBT.html"><span>Installing dependencies</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../reference/gettingStarted/getting_started_docker.html"><span>Getting started with Docker</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../reference/gettingStarted/external_dependency.html"><span>External Dependencies</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../reference/usePML/index.html"><span>Using PML</span></a></span><div class="ni n1 "><span class="nh de"><a href="../reference/usePML/editing_PML_model.html"><span>Editing a PML Model</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../reference/usePML/pml_examples.html"><span>Use PML by the examples</span></a></span></div></div><div class="ni n0 expanded"><span class="nh h100 selected expanded cs de"><button class="ar icon-button expanded"></button><a href="index.html"><span>Examples</span></a></span><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="simple-keystone/index.html"><span>Simple Keystone</span></a></span><div class="ni n2 "><span class="nh de"><a href="simple-keystone/platform.html"><span>Platform</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="simple-keystone/software.html"><span>Software Allocation</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="simple-keystone/routing.html"><span>Routing</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="simple-keystone/library.html"><span>Transaction library</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="simple-keystone/slicing.html"><span>Temporal slices</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="simple-keystone/specification.html"><span>Specifications</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="simple-keystone/export.html"><span>Exports</span></a></span></div></div><div class="ni n1 expanded"><span class="nh h100 selected de"><a href="index.html"><span>Simple T1042</span></a></span></div></div></nav></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><div class="text"></div></div><div class="text-mobile"></div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="../index.html">pml_analyzer</a>/<a href="index.html">Examples</a>/<a href="index.html">Simple T1042</a></div><div id="content" class="body-medium"><div><html>
 <head>
  <link rel="dns-prefetch" href="//fonts.googleapis.com"> 
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin> 
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
 </head>
 <body>
  <div id="content-wrapper"> 
   <div class="site-container"> 
    <div id="site-header"></div> 
    <main> 
     <header> 
      <h1 class="h600">Simple T1042</h1> 
     </header> 
     <section id="platform"> 
      <h2 class="h300"><a href="#platform" class="anchor"></a>Platform</h2> 
      <p>This processor is composed of:</p> 
      <ul> 
       <li>two cores,</li> 
       <li>one DMA (Direct Access Memory),</li> 
       <li>one Ethernet device,</li> 
       <li>two memory controllers (the memories behind the memory controllers are not represented),</li> 
       <li>one PCIe controller,</li> 
       <li>an interrupt controller (MPCI),</li> 
       <li>and a set of configuration registers reachable through a specific configuration bus.</li> 
      </ul> 
      <p>All the resources necessary for executing program instructions are locally hosted by each core: ordinal counter, registers, computing units, etc. These resources are private to each core. They can be used simultaneously without interference by each core. Conversely, the memory hierarchy is composed of resources local to each core (the cache memories), and two global memories reachable from the two cores. These global memories are shared resources.</p> 
      <p>The cores, the Ethernet device, the DMA, and the memories are connected by a central bus as shown in Figure 1. This bus carries transactions, that is, requests from the cores, the Ethernet port, and the DMA to the memories and to the configuration bus. As such, the central bus is a shared resource that can be used asynchronously by the transactions. These transactions can collide when attempting to cross the bus at the same time.</p> 
      <img alt="platform" width="100%" src="../../images/simpleT1042/platform.PNG" title="multicore processor"> 
      <p>Figure 1: Multicore processor</p> 
      <p>PML Encoding is provided in src/main/scala/pml/examples/simple/SimplePlatform.scala</p> 
     </section>
     <section id="software-allocation"> 
      <h2 class="h300"><a href="#software-allocation" class="anchor"></a>Software Allocation</h2> 
      <p>The application layer is composed of five tasks:</p> 
      <ul> 
       <li>app4 is an asynchronous microcode running on the eth component.</li> 
       <li>app21 is a periodic task running on core2.</li> 
       <li>app22 is a periodic task running on core2.</li> 
       <li>app3 a microcode running on DMA.</li> 
       <li>app1 is an asynchronous applicative task running on core1.</li> 
      </ul> 
      <p>PML Encoding is provided in src/main/scala/pml/examples/simple/SimpleSoftwareAllocation.scala</p> 
     </section>
     <section id="transaction-library"> 
      <h2 class="h300"><a href="#transaction-library" class="anchor"></a>Transaction library</h2> 
      <p>The application layer is composed of five tasks:</p> 
      <ul> 
       <li>app4 Each time an Ethernet frame arrives, it transfers the payload of the frame to mem2 (transaction t41).</li> 
       <li>app21 is a periodic task running on core2. At each period app21 reads the last Ethernet message from mem2, makes some input treatments on it, and makes it available for app1 in mem1.</li> 
       <li>app22 is a periodic task running on core2. Similarly, at each period app22 reads output data of app1 from mem1. It transforms them into PCIe frames. The frames are then store in mem2.</li> 
       <li>app22 wakes up the DMA (app3) by writing the address of the PCIe frames into the DMA registers.</li> 
       <li>app3 a microcode running on DMA. When woke up, app3 reads the PCIe frame from mem2 and transfers it to pcie.</li> 
       <li>app1 is an asynchronous applicative task running on core1 and activated each time an external interrupt arrives. It begins by reading the interrupt code from mpic (transaction t11). It reads its input data from mem1 (transaction t12). Then it runs using the internal cache of core1(transaction t13). And finally it stores its output data in mem1(transaction t14).</li> 
      </ul> 
      <img alt="transaction" width="100%" src="../../images/simpleT1042/transactions.PNG" title="Transactions of the HW architecture (the red, violet,blue, and green arrows represent respectively the transactions of app1,app2(app21 app22), app3,and app4)"> 
      <p>Figure 2: Transactions of the HW architecture (the red, violet,blue, and green arrows represent respectively the transactions of app1,app2(app21 app22), app3,and app4).</p> 
      <p>PML Encoding is provided in src/main/scala/pml/examples/simple/SimpleTransactionLibrary.scala</p> 
      <p>In this example all defined transaction are used, the configuration of the library is provided in src/main/scala/examples/simple/SimpleLibraryConfiguration</p> 
     </section>
     <section id="routing"> 
      <h2 class="h300"><a href="#routing" class="anchor"></a>Routing</h2> 
      <p>In this example there are not multiple paths between target and initiators so the routing configuration is optional (here empty)</p> 
     </section>
     <section id="specifications"> 
      <h2 class="h300"><a href="#specifications" class="anchor"></a>Specifications</h2> 
      <p>In this example we consider that</p> 
      <ul> 
       <li>bus services are independent</li> 
       <li>DMA and config_bus services impacts each others</li> 
       <li>app21 and app22 are exclusive</li> 
      </ul> 
      <p>PML encoding is provided in src/main/scala/views/interference/examples/simple/SimpleTableBasedInterferenceSpecification</p> 
     </section>
     <section id="exports"> 
      <h2 class="h300"><a href="#exports" class="anchor"></a>Exports</h2> 
     </section>
     <section id="configured-platform"> 
      <h3 class="h200"><a href="#configured-platform" class="anchor"></a>Configured platform</h3> 
      <p>The file src/main/scala/pml/examples/simple/SimpleExport shows how graphical exports are produced (stored in export folder) from a platform:</p> 
      <ul> 
       <li>graph of used SW and HW</li> 
       <li>graph of used services per application</li> 
       <li>table of transaction</li> 
       <li>table of data</li> 
       <li>table of SW allocation to HW</li> 
       <li>table of component activation</li> 
       <li>table of SW usage</li> 
       <li>routing table</li> 
       <li>transfert table</li> 
      </ul> 
     </section>
     <section id="interference-analysis"> 
      <h3 class="h200"><a href="#interference-analysis" class="anchor"></a>Interference analysis</h3> 
      <p>The file src/main/scala/views/interference/examples/SimpleInterferenceGeneration shows how interference analysis can be performed on a configured platform. The generated files are stored in analysis folder:</p> 
      <ul> 
       <li>computation of n-itf</li> 
       <li>computation of n-free</li> 
       <li>computation of n-channels</li> 
      </ul> 
      <p>As an example the following interference is identified as a 3-itf</p> 
      <p>&lt; app1_rd_d1 || app21_wr_d1 || app4_wr_input_d &gt;</p> 
      <img alt="transaction" width="100%" src="../../images/simpleT1042/interference.PNG" title="Footprint and interference channel (identified by the two circles)"> 
      <p>Figure 3: Footprint and interference channel (identified by the two circles)</p> 
     </section> 
     <h2 class="h500">Table of Contents</h2> 
     <ul class="table-of-contents"> 
     </ul> 
    </main> 
    <div class="divider"></div> 
   </div>
  </div>
 </body>
</html></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><ul><li><a href="#platform">Platform</a></li><li><a href="#software-allocation">Software Allocation</a></li><li><a href="#transaction-library">Transaction library</a></li><li><a href="#routing">Routing</a></li><li><a href="#specifications">Specifications</a></li><li><a href="#exports">Exports</a><ul><li><a href="#configured-platform">Configured platform</a></li><li><a href="#interference-analysis">Interference analysis</a></li></ul></li></ul></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/lampepfl/dotty"><button class="icon-button gh"></button></a><a href="https://twitter.com/scala_lang"><button class="icon-button twitter"></button></a><a href="https://discord.com/invite/scala"><button class="icon-button discord"></button></a><a href="https://gitter.im/scala/scala"><button class="icon-button gitter"></button></a><div class="text"></div></div><div class="text-mobile"></div></div></div></div></body></html>